SET(SOURCES
	main.cpp
	Font.cpp
	maxRectsBinPack/MaxRectsBinPack.cpp
	sdlSavePng/savepng.c
	tinyxml2/tinyxml2.cpp
	ConfigFile.cpp
	CharList.cpp
)

IF(MINGW)
	SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")
    SET(MINGW32_LIBRARY mingw32 CACHE STRING "mwindows for MinGW")
    FIND_LIBRARY(SDL2MAIN_LIBRARY NAMES SDL2main)
    SET(SDL2PP_LIBRARIES ${MINGW32_LIBRARY} ${SDL2MAIN_LIBRARY} ${SDL2PP_LIBRARIES})
ENDIF(MINGW)

ADD_EXECUTABLE(fontbm ${SOURCES})

TARGET_LINK_LIBRARIES(fontbm ${PNG_LIBRARIES} ${SDL2PP_LIBRARIES} ${Boost_LIBRARIES})
SET(EXECUTABLE_OUTPUT_PATH "${CMAKE_BINARY_DIR}/bin")

IF(WIN32)
    set_target_properties(fontbm PROPERTIES LINK_FLAGS_DEBUG "/SUBSYSTEM:CONSOLE")
    set_target_properties(fontbm PROPERTIES COMPILE_DEFINITIONS_DEBUG "_CONSOLE")
    set_target_properties(fontbm PROPERTIES LINK_FLAGS_RELWITHDEBINFO "/SUBSYSTEM:CONSOLE")
    set_target_properties(fontbm PROPERTIES COMPILE_DEFINITIONS_RELWITHDEBINFO "_CONSOLE")
    set_target_properties(fontbm PROPERTIES LINK_FLAGS_RELEASE "/SUBSYSTEM:windows")
    set_target_properties(fontbm PROPERTIES LINK_FLAGS_MINSIZEREL "/SUBSYSTEM:windows")
ENDIF(WIN32)
